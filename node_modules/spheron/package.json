{
  "name": "spheron",
  "version": "0.0.3",
  "description": "Use your javascript powers to control the Sphero by Orbotix",
  "main": "lib/index.js",
  "dependencies": {
    "serialport": "1.3.x"
  },
  "devDependencies": {
    "grunt": "~0.4.1",
    "grunt-contrib-jshint": "~0.6.0",
    "should": "~1.2.2",
    "mocha": "~1.12.0"
  },
  "directories": {
    "example": "examples",
    "test": "tests"
  },
  "scripts": {
    "test": "mocha -r should tests --recursive -R spec"
  },
  "keywords": [
    "orbotix",
    "sphero",
    "nodebot",
    "nodebots"
  ],
  "author": {
    "name": "Michael McHugh",
    "email": "developer@yrucalling.me"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/alchemycs/spheron.git"
  },
  "license": "Simplified BSD License",
  "bugs": {
    "url": "https://github.com/alchemycs/spheron/issues"
  },
  "readme": "# Use your javascript powers to control the Sphero by Orbotix\n\n[![Build Status](https://travis-ci.org/alchemycs/spheron.png?branch=master)](https://travis-ci.org/alchemycs/spheron)\n\n## Quick Start\n\n    npm install spheron\n\nConnect your [Sphero](http://gosphero.com) to your computer via bluetooth.\n\nAdd `spheron` to your code:\n\n```\nvar spheron = require('spheron');\nvar sphero = spheron.sphero();\nvar spheroPort = '/dev/cu.Sphero-RGB';\nvar COLORS = spheron.toolbelt.COLORS;\n\nsphero.on('open', function() {\n  sphero.setRGB(COLORS.BLUE, false);\n});\n\nsphero.open(spheroPort);\n```\n\nRun that and your sphero will turn blue. You can pass hex colours such as `sphero.setRGB(0xFF00FF)` for `PURPLE`.\n\nThere are some named colours in `toolbelt.COLORS`.\n\n## Dependencies\nCommunications over bluetooth are done through [node-serialport](https://github.com/voodootikigod/node-serialport) so\nplease check there for what you need to make it work.\n\n##Examples\nThere are a few examples in the `examples` directory:\n\n* `repl.js` provides a simple REPL shell to get you started and try things out\n* `vege.js` uses the raw `.write()` method to send packets to the Sphero\n* `police.js` takes advantage of the chained API\n* `police-macro.js` uses macros to create a police light effect\n* See `spheron` being used in [spheron-leap](https://github.com/alchemycs/spheron-leap) controlling Sphero using Leap Motion\n\n[![](http://img.youtube.com/vi/3ratT1yCnow/0.jpg)](http://www.youtube.com/watch?v=3ratT1yCnow&feature=share&list=UUKZdVrHYWr7rVNKbs9_fXnw)\n\n\n##Development Direction\nI plan on creating several execution strategies so that commands can be chained, waited upon and evented in such a way\nthat it can be run interactively or converted into a `macro` or (possibly?) `orbBasic` program and saved directly to\nthe Sphero.\n\nSomething like: `sphero.startMacro().setRGB(0x00FF00).strobeLED({period:60}).wait(1000).sleep().saveMacro()`\n\nI'm also planning on implementing the API as completely as possible (as time permits). [Orbotix](https://www.gosphero.com/company/) have\ndone a great job in [documenting the Sphero API](https://github.com/orbotix/DeveloperResources)!\n\n##Methods\nThe `spheron` methods are chainable and certain methods are either query or command based on the number of arguments (much like jQuery).\n\n###`sphero.resetTimeout([true|false])`\nCalled with no arguments this method will return the current state.\n\nWhen this has been set to `true` then sphero will reset the internal command timeout after each command. This prevents sphero shutting down while in use. When this is `false` sphero will continue it's internal timeout count even when packets are sent.\n\n###`sphero.requestAcknowledgement([true|false])`\nCalled with no arguments this method will return the current state.\n\nWhen this has been set to `true` then sphero will emit a *message* in response to the command. When this is `false` sphero will not emit a *message*. Be mindfull that if this is false and you send a command asking for information (eg, current battery state) then you will **not** receive a response.\n\n###More Commands\nI've tried to implement most of the API commands, and will endevour to have more complete documentation done over the Christmas 2013 period. Please feel free to ask me any questions in the meantime.\n\n\n##Events\nThe `sphero` object returned by the `spheron()` methid is an `EventEmitter` and supports the following events:\n\n###`sphero.on('error', callback)`\nEmitted when an error occurs. This is usaually connection oriented. The `callback` function simply takes a single error argument:\n\n```\nsphero.on('error', function(error) {\n  console.log('Opps, something went wrong!');\n});\n```\n\n###`sphero.on('open', callback)`\nThis event is triggered once the connection to your sphero has been established. At this point it is now safe to send commands to your sphero.\n\n```\nsphero.on('open', function() {\n  console.log('Hurah! We're connected!');\n});\n```\n\n###`sphero.on('close', callback)`\nWhen the connection to your sphero has been closed, this event will let you know.\n\n```\nsphero.on('close', function() {\n  console.log('Goodnight.');\n});\n```\n\n###`sphero.on('end', callback)`\nWhen the connection to your sphero has ended, this event will let you know.\n\n```\nsphero.on('end', function() {\n  console.log('Connection has ended');\n});\n```\n\n###`sphero.on('oob', callback)`\nAny data that sphero sends that is not a recognised packet (i.e., Out Of Band)can be read from this event. Be mindful that the argument to the `callback` is a `Buffer` that has not been composed in any way. This means anything the sphero is sending out of band might be broken into several events.\n\n```\nsphero.on('oob', function(aBuffer) {\n  console.log('OOB! ', aBuffer);\n});\n```\n\n\n###`sphero.on('message', callback)`\nA *message* is an acknowledgement from sphero in response to a command. The `callback` take as the only argument an object that represents the message.\n\n```\nsphero.on('message', function(message) {\n  console.log('Sphero sent this message: ', message);\n});\n```\n\n###`sphero.on('notification', callback)`\nA *notification* is sent from sphero to advise of a condition such as low battery or a detected change in the locator module. The `callback` take as the only argument an object that represents the notification.\n\n```\nsphero.on('notification', function(notification) {\n  console.log('Sphero would like to let you know: ', notification);\n});\n```\n\n###`sphero.on('packet', callback)`\nThis event is a convenienve that is emitted on either a *message* or *notification* event. The `callback` takes a single argument that is either a *notification* or a *message*.\n\n```\nsphero.on('packet', function(packet) {\n  console.log('Sphero sent this packet: ', packet);\n  switch (packet.SOP2) {\n    case 0xFF :\n    \tconsole.log('This is an acknowledgement');\n    \tbreak;\n    case 0xFE :\n    \tconsole.log('This is a notification');\n    \tbreak;\n});\n```\n\n##Event Packets\nThe *message* and *notification* packets have the following structure:\n\n###Message Packet\n```\n{\n  SOP1\t\t(this is always 0xFF),\n  SOP2\t\t(this is always 0xFF for messages)\n  MRSP\t\t(Message Response, please see the API guide for details, I'll try and summarise it here at a later date)\n  SEQ\t\t(The sequence number passed into the calling request)\n  DLEN\t\t(The length of the data, including the trailing checksum)\n  DATA\t\t(This is a Buffer with the raw data. Future versions of spheron will abstract this)\n  CHK\t\t(The checksum of the packet)\n}\n```\n\n###Notification Packet\n```\n{\n  SOP1\t\t(this is always 0xFF),\n  SOP2\t\t(this is always 0xFE for notifications)\n  ID_CODE\t(identifies what type of notification is being sent. Future versions of spheron will abstract this)\n  DLEN\t\t(The length of the data, including the trailing checksum)\n  DATA\t\t(This is a Buffer with the raw data. Future versions of spheron will abstract this)\n  CHK\t\t(The checksum of the packet)\n}\n```\n\nFor more details on the *message* and *notification* packets please see the [Sphero API Giude](https://github.com/orbotix/DeveloperResources/blob/ab81f775274494082b63422a41db22685b003c6f/docs/Sphero_API_1.46.pdf?raw=true).\n\n##Macros\nThe basic macro code has been built but requires further testing and documentation. Please feel free to try it out or ask questions.\n\nObviously, this needs more documentation.\n\n##TODO\nThe most immediate things to be done include:\n\n* Documentation!\n* Create <strike>a macro builder</strike> macro builder documentation (until then, please see [examples/police-macro.js](examples/police-macro.js) and code for usage details)\n* Smarter objects passed into event listeners to make usage easier\n* Implement callbacks (or just stick with an event model?)\n* This has been written against the Orbotix Communications API 1.46, need to check against version 1.50 and on Sphero 2.0.\n\n## Acknowledgments\n\nThanks to:\n\n* Chris Williams for making [node-serialport](https://github.com/voodootikigod/node-serialport)\n* [Orbotix](https://www.gosphero.com/company/) for creating and documenting the [Sphero API](https://github.com/orbotix/DeveloperResources)\n\n## Legal Notices\nThis work is not endorsed by Orbotix.\n\nTrademarks are the property of their respective owners.\n\n## License\n\nSimplified BSD License\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/alchemycs/spheron",
  "_id": "spheron@0.0.3",
  "dist": {
    "shasum": "26a6aae4df5b8699458f78194995e00150d6e4fa"
  },
  "_from": "spheron@0.0.3",
  "_resolved": "https://registry.npmjs.org/spheron/-/spheron-0.0.3.tgz"
}
